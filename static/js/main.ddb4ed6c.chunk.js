(this["webpackJsonpavb-studious-guacamole"]=this["webpackJsonpavb-studious-guacamole"]||[]).push([[0],{24:function(t,e,n){},25:function(t,e,n){},27:function(t,e,n){},33:function(t,e,n){},34:function(t,e,n){},35:function(t,e,n){},36:function(t,e,n){},37:function(t,e,n){"use strict";n.r(e);var c=n(0),r=n(1),a=n.n(r),s=n(17),u=n.n(s),i=(n(24),n(8)),o=n(4),l=(n(25),n(5)),f=n(2),j=n.n(f),b=n(3),p="https://avb-contacts-api.herokuapp.com",d=function(){var t=Object(b.a)(j.a.mark((function t(){var e,n,c,r,a,s=arguments;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=s.length>0&&void 0!==s[0]?s[0]:1,n=s.length>1&&void 0!==s[1]?s[1]:20,c="".concat(p,"/contacts/paginated?page=").concat(e,"&itemsPerPage=").concat(n),t.next=5,fetch(c);case 5:if((r=t.sent).ok){t.next=8;break}throw new Error(r.statusText);case 8:return t.next=10,r.json();case 10:return a=t.sent,t.abrupt("return",a);case 12:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),h=function(){var t=Object(b.a)(j.a.mark((function t(e){var n,c;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="".concat(p,"/contacts/").concat(e),t.next=3,fetch(n);case 3:if((c=t.sent).ok){t.next=6;break}throw new Error(c.statusText);case 6:return t.next=8,c.json();case 8:return t.abrupt("return",t.sent);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),O=function(){var t=Object(b.a)(j.a.mark((function t(e){var n,c,r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="".concat(p,"/contacts/").concat(e.id),c={method:"PUT",headers:{accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)},t.next=4,fetch(n,c);case 4:if((r=t.sent).ok){t.next=7;break}throw new Error(r.statusText);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),x=function(){var t=Object(b.a)(j.a.mark((function t(e){var n,c,r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!isNaN(e.id)){t.next=2;break}return t.abrupt("return");case 2:return n="".concat(p,"/contacts/").concat(e.id),c={method:"DELETE"},t.next=6,fetch(n,c);case 6:if((r=t.sent).ok){t.next=9;break}throw new Error(r.statusText);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),v=function(){var t=Object(b.a)(j.a.mark((function t(e){var n,c,r,a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="".concat(p,"/contacts"),c={method:"POST",headers:{accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)},t.next=4,fetch(n,c);case 4:if((r=t.sent).ok){t.next=7;break}throw new Error(r.statusText);case 7:return t.next=9,r.json();case 9:return a=t.sent,t.abrupt("return",a);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),m={id:NaN,firstName:"",lastName:"",emails:[]},w={contacts:[],lastPage:1,canLoadMore:!0,setContactState:function(){},fetchMoreContacts:function(){var t=Object(b.a)(j.a.mark((function t(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),deleteContact:function(){var t=Object(b.a)(j.a.mark((function t(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),upsertContact:function(){var t=Object(b.a)(j.a.mark((function t(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",m);case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),getOrFetchContact:function(){var t=Object(b.a)(j.a.mark((function t(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",m);case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},N=Object(r.createContext)(w),k=function(t){var e=Object(r.useState)(1),n=Object(l.a)(e,2),a=n[0],s=n[1],u=Object(r.useState)(!0),i=Object(l.a)(u,2),o=i[0],f=i[1],p=Object(r.useState)([]),m=Object(l.a)(p,2),w=m[0],k=m[1],C=function(){var t=Object(b.a)(j.a.mark((function t(){var e;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d(a,20);case 2:e=t.sent,f(e.page*e.itemsPerPage<e.totalItems),s(a+1),k(w.concat(e.contacts));case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),g=function(){var t=Object(b.a)(j.a.mark((function t(e){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x(e);case 2:n=w.filter((function(t){return t.id!==e.id})),k(n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),y=function(){var t=Object(b.a)(j.a.mark((function t(e){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O(e);case 2:n=w.map((function(t){return t.id===e.id?e:t})),k(n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),S=function(){var t=Object(b.a)(j.a.mark((function t(e){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v(e);case 2:return n=t.sent,k(w.concat(n)),t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),E=function(){var t=Object(b.a)(j.a.mark((function t(e){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!isNaN(e.id)){t.next=6;break}return t.next=3,S(e);case 3:return t.abrupt("return",t.sent);case 6:return t.next=8,y(e);case 8:return t.abrupt("return",e);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),F=function(){var t=Object(b.a)(j.a.mark((function t(e){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===(n=w.find((function(t){var n=t.id;return e===n})))){t.next=3;break}return t.abrupt("return",n);case 3:return t.next=5,h(e);case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),P={contacts:w,lastPage:a,canLoadMore:o,setContactState:k,fetchMoreContacts:C,deleteContact:g,upsertContact:E,getOrFetchContact:F};return Object(c.jsx)(N.Provider,{value:P,children:t.children})},C=function(){return Object(r.useContext)(N)};n(27);function g(t){var e=t.onClick,n=C(),a=n.contacts,s=n.fetchMoreContacts,u=n.canLoadMore,i=Object(o.i)("/:contactId"),f=Object(r.useState)(NaN),p=Object(l.a)(f,2),d=p[0],h=p[1];Object(r.useEffect)((function(){null!==i&&void 0!==i.params.contactId&&h(parseInt(i.params.contactId,10))}),[i]);var O=Object(r.useState)(!1),x=Object(l.a)(O,2),v=x[0],m=x[1],w=function(){var t=Object(b.a)(j.a.mark((function t(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return m(!0),t.next=3,s();case 3:m(!1);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),N=a.map((function(t){return Object(c.jsxs)("li",{onClick:function(){e(t)},className:d===t.id?"selected":"",children:[t.firstName," ",t.lastName]},t.id)})),k=u?Object(c.jsx)("li",{children:v?"Loading...":Object(c.jsx)("button",{onClick:w,children:"Load more"})}):"";return Object(c.jsxs)("ul",{className:"contacts-list",children:[N,k]})}n(33);function y(t){var e=t.onClick,n=t.size;return Object(c.jsxs)("button",{className:"plus-button ".concat(n),onClick:e,children:[Object(c.jsx)("span",{className:"vertical-bar"}),Object(c.jsx)("span",{className:"horizontal-bar"})]})}n(34);function S(){return Object(c.jsxs)("div",{className:"welcome-view",children:[Object(c.jsx)("h1",{children:"Welcome!"}),Object(c.jsxs)("span",{children:[Object(c.jsx)("div",{children:"Click on a contact in the list on the left to edit its information. Or, click on the plus button in the top left to create a brand new contact."}),Object(c.jsxs)("div",{children:["Created by Mark Del Rosario. ",Object(c.jsx)("a",{href:"https://github.com/",children:"Github Profile"})]})]})]})}var E=n(15);n(35);function F(t){var e=t.onClick,n=t.className;return Object(c.jsx)("button",{className:"minus-button ".concat(n),onClick:e,children:Object(c.jsx)("span",{className:"horizontal-bar"})})}n(36);var P=/[^@ \t\r\n]+@[^@ \t\r\n]+\.[^@ \t\r\n]+/;function T(t){var e=t.contact,n=t.onDelete,a=t.onCancel,s=t.onSave,u=t.isNew,i=C(),o=i.upsertContact,f=i.deleteContact,p=Object(r.useState)(e.firstName),d=Object(l.a)(p,2),h=d[0],O=d[1],x=Object(r.useState)(e.lastName),v=Object(l.a)(x,2),m=v[0],w=v[1],N=Object(r.useState)(e.emails),k=Object(l.a)(N,2),g=k[0],S=k[1],T=Object(r.useState)(!1),I=Object(l.a)(T,2),L=I[0],M=I[1],D=Object(r.useState)(""),z=Object(l.a)(D,2),J=z[0],B=z[1],G=Object(r.useState)(""),R=Object(l.a)(G,2),U=R[0],W=R[1],q=function(){null!=e&&(O(e.firstName),w(e.lastName),S(e.emails),B(""),M(!1))};Object(r.useEffect)(q,[e]),Object(r.useEffect)((function(){u&&W("Contact Created!")}),[u]);var A=function(){var t=Object(b.a)(j.a.mark((function t(){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""!==h){t.next=3;break}return W("Must have First Name"),t.abrupt("return");case 3:if(""!==m){t.next=6;break}return W("Must have Last Name"),t.abrupt("return");case 6:return n=Object(E.a)(Object(E.a)({},e),{},{firstName:h,lastName:m,emails:g}),t.next=9,o(n);case 9:n=t.sent,W("Saved Successfully"),s(n);case 12:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),H=function(){var t=Object(b.a)(j.a.mark((function t(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(e),t.next=3,f(e);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(c.jsxs)("article",{className:"contact-display",children:[Object(c.jsxs)("div",{className:"first-name",children:[Object(c.jsx)("label",{children:"First Name: "}),Object(c.jsx)("input",{type:"text",value:h,onChange:function(t){return O(t.target.value)}})]}),Object(c.jsxs)("div",{className:"last-name",children:[Object(c.jsx)("label",{children:"Last Name: "}),Object(c.jsx)("input",{type:"text",value:m,onChange:function(t){return w(t.target.value)}})]}),Object(c.jsxs)("div",{className:"emails",children:[Object(c.jsx)("label",{children:"Emails"}),Object(c.jsxs)("ul",{children:[g.map((function(t){return Object(c.jsxs)("li",{children:[Object(c.jsx)("div",{children:t}),Object(c.jsx)(F,{onClick:function(){return e=t,void S(g.filter((function(t){return t!==e})));var e},className:"remove"})]},t)})),L?Object(c.jsxs)("li",{className:"add-email-form",children:[Object(c.jsx)("label",{children:"New Email: "}),Object(c.jsx)("input",{type:"text",value:J,onChange:function(t){return B(t.target.value)}}),Object(c.jsx)("button",{onClick:function(){var t;t=J,P.test(t)?(S(g.concat(J)),B(""),M(!1),W("")):W("Invalid email address")},children:"Complete"})]}):Object(c.jsxs)("li",{onClick:function(){return M(!0)},className:"add-email",children:[Object(c.jsx)(y,{onClick:function(){return M(!0)},size:"small"}),Object(c.jsx)("div",{children:"add email"})]})]})]}),Object(c.jsx)("div",{className:"message",children:U}),Object(c.jsxs)("div",{className:"buttons",children:[Object(c.jsx)("button",{className:"delete",onClick:H,children:"Delete"}),Object(c.jsx)("button",{className:"cancel",onClick:function(){q(),a(e)},children:"Cancel"}),Object(c.jsx)("button",{className:"save",onClick:A,children:"Save"})]})]})}function I(){var t=Object(o.f)(),e={id:NaN,firstName:"",lastName:"",emails:[]},n=function(){return t.push("")};return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(T,{contact:e,onSave:function(e){return t.push("/".concat(e.id),{isNew:!0})},onCancel:n,onDelete:n})})}function L(){var t=C().getOrFetchContact,e=Object(o.f)(),n=Object(o.h)(),a=Object(o.g)(),s=Object(r.useState)(null),u=Object(l.a)(s,2),i=u[0],f=u[1],p=Object(r.useState)(!1),d=Object(l.a)(p,2),h=d[0],O=d[1];Object(r.useEffect)((function(){(function(){var e=Object(b.a)(j.a.mark((function e(){var c,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=parseInt(n.contactId),e.next=3,t(c);case 3:r=e.sent,f(r);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[n]),Object(r.useEffect)((function(){O(!!a.state.isNew)}),[a]);var x=function(){return e.push("")};return Object(c.jsx)(c.Fragment,{children:null===i?"Loading...":Object(c.jsx)(T,{contact:i,onSave:function(){},onCancel:x,onDelete:x,isNew:h})})}function M(){var t=C().fetchMoreContacts,e=Object(o.f)();return Object(r.useEffect)((function(){t()}),[]),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("div",{className:"sidebar",children:[Object(c.jsxs)("div",{className:"header",children:[Object(c.jsx)("h1",{children:"Contacts"}),Object(c.jsx)(y,{onClick:function(){return e.push("/new")},size:"large"})]}),Object(c.jsx)(g,{onClick:function(t){var n=t.id;return e.push("/".concat(n))}})]}),Object(c.jsx)("div",{className:"content",children:Object(c.jsxs)(o.c,{children:[Object(c.jsx)(o.a,{path:"/new",children:Object(c.jsx)(I,{})}),Object(c.jsx)(o.a,{path:"/:contactId",children:Object(c.jsx)(L,{})}),Object(c.jsx)(o.a,{path:"/",children:Object(c.jsx)(S,{})})]})})]})}var D=function(){return Object(c.jsx)(i.a,{basename:"/avb-studious-guacamole",children:Object(c.jsx)(k,{children:Object(c.jsx)(M,{})})})},z=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,38)).then((function(e){var n=e.getCLS,c=e.getFID,r=e.getFCP,a=e.getLCP,s=e.getTTFB;n(t),c(t),r(t),a(t),s(t)}))};u.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(D,{})}),document.getElementById("root")),z()}},[[37,1,2]]]);
//# sourceMappingURL=main.ddb4ed6c.chunk.js.map