(this["webpackJsonpavb-studious-guacamole"]=this["webpackJsonpavb-studious-guacamole"]||[]).push([[0],[,,,,,,,,,,,,,function(t,e,n){},function(t,e,n){},,function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){"use strict";n.r(e);var a=n(0),c=n(2),r=n.n(c),s=n(7),u=n.n(s),i=(n(13),n(4)),o=(n(14),n(1)),l=n.n(o),f=n(3),j="https://avb-contacts-api.herokuapp.com",b=function(){var t=Object(f.a)(l.a.mark((function t(){var e,n,a,c,r,s=arguments;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=s.length>0&&void 0!==s[0]?s[0]:1,n=s.length>1&&void 0!==s[1]?s[1]:20,a="".concat(j,"/contacts/paginated?page=").concat(e,"&itemsPerPage=").concat(n),t.next=5,fetch(a);case 5:if((c=t.sent).ok){t.next=8;break}throw new Error(c.statusText);case 8:return t.next=10,c.json();case 10:return r=t.sent,t.abrupt("return",r);case 12:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),p=function(){var t=Object(f.a)(l.a.mark((function t(e){var n,a,c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="".concat(j,"/contacts/").concat(e.id),a={method:"PUT",headers:{accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)},t.next=4,fetch(n,a);case 4:if((c=t.sent).ok){t.next=7;break}throw new Error(c.statusText);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),d=function(){var t=Object(f.a)(l.a.mark((function t(e){var n,a,c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!isNaN(e.id)){t.next=2;break}return t.abrupt("return");case 2:return n="".concat(j,"/contacts/").concat(e.id),a={method:"DELETE"},t.next=6,fetch(n,a);case 6:if((c=t.sent).ok){t.next=9;break}throw new Error(c.statusText);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),h=function(){var t=Object(f.a)(l.a.mark((function t(e){var n,a,c,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="".concat(j,"/contacts"),a={method:"POST",headers:{accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)},t.next=4,fetch(n,a);case 4:if((c=t.sent).ok){t.next=7;break}throw new Error(c.statusText);case 7:return t.next=9,c.json();case 9:return r=t.sent,t.abrupt("return",r);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),O={id:NaN,firstName:"",lastName:"",emails:[]},x={contacts:[],lastPage:1,canLoadMore:!0,setContactState:function(){},fetchMoreContacts:function(){var t=Object(f.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),deleteContact:function(){var t=Object(f.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),upsertContact:function(){var t=Object(f.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",O);case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},v=Object(c.createContext)(x),m=function(t){var e=Object(c.useState)(1),n=Object(i.a)(e,2),r=n[0],s=n[1],u=Object(c.useState)(!0),o=Object(i.a)(u,2),j=o[0],O=o[1],x=Object(c.useState)([]),m=Object(i.a)(x,2),N=m[0],k=m[1],C=function(){var t=Object(f.a)(l.a.mark((function t(){var e;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b(r,20);case 2:e=t.sent,O(e.page*e.itemsPerPage<e.totalItems),s(r+1),k(N.concat(e.contacts));case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),w=function(){var t=Object(f.a)(l.a.mark((function t(e){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d(e);case 2:n=N.filter((function(t){return t.id!==e.id})),k(n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),g=function(){var t=Object(f.a)(l.a.mark((function t(e){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p(e);case 2:n=N.map((function(t){return t.id===e.id?e:t})),k(n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),y=function(){var t=Object(f.a)(l.a.mark((function t(e){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h(e);case 2:return n=t.sent,k(N.concat(n)),t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),S={contacts:N,lastPage:r,canLoadMore:j,setContactState:k,fetchMoreContacts:C,deleteContact:w,upsertContact:function(){var t=Object(f.a)(l.a.mark((function t(e){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!isNaN(e.id)){t.next=6;break}return t.next=3,y(e);case 3:return t.abrupt("return",t.sent);case 6:return t.next=8,g(e);case 8:return t.abrupt("return",e);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};return Object(a.jsx)(v.Provider,{value:S,children:t.children})},N=function(){return Object(c.useContext)(v)};n(16);function k(t){var e=t.onClick,n=t.selectedContactId,r=N(),s=r.contacts,u=r.fetchMoreContacts,o=r.canLoadMore,j=Object(c.useState)(!1),b=Object(i.a)(j,2),p=b[0],d=b[1],h=function(){var t=Object(f.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return d(!0),t.next=3,u();case 3:d(!1);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),O=s.map((function(t){return Object(a.jsxs)("li",{onClick:function(){e(t)},className:n===t.id?"selected":"",children:[t.firstName," ",t.lastName]},t.id)})),x=o?Object(a.jsx)("li",{children:p?"Loading...":Object(a.jsx)("button",{onClick:h,children:"Load more"})}):"";return Object(a.jsxs)("ul",{className:"contacts-list",children:[O,x]})}var C=n(6);n(17);function w(t){var e=t.onClick,n=t.size;return Object(a.jsxs)("button",{className:"plus-button ".concat(n),onClick:e,children:[Object(a.jsx)("span",{className:"vertical-bar"}),Object(a.jsx)("span",{className:"horizontal-bar"})]})}n(18);function g(t){var e=t.onClick,n=t.className;return Object(a.jsx)("button",{className:"minus-button ".concat(n),onClick:e,children:Object(a.jsx)("span",{className:"horizontal-bar"})})}n(19);var y=/[^@ \t\r\n]+@[^@ \t\r\n]+\.[^@ \t\r\n]+/;function S(t){var e=t.contact,n=t.onDelete,r=t.onCancel,s=t.onSave,u=N(),o=u.upsertContact,j=u.deleteContact,b=Object(c.useState)(e.firstName),p=Object(i.a)(b,2),d=p[0],h=p[1],O=Object(c.useState)(e.lastName),x=Object(i.a)(O,2),v=x[0],m=x[1],k=Object(c.useState)(e.emails),S=Object(i.a)(k,2),E=S[0],P=S[1],T=Object(c.useState)(!1),L=Object(i.a)(T,2),M=L[0],F=L[1],I=Object(c.useState)(""),z=Object(i.a)(I,2),D=z[0],J=z[1],B=Object(c.useState)(""),U=Object(i.a)(B,2),q=U[0],A=U[1],G=function(){null!=e&&(h(e.firstName),m(e.lastName),P(e.emails),J(""),F(!1))};Object(c.useEffect)(G,[e]);var H=function(){var t=Object(f.a)(l.a.mark((function t(){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""!==d){t.next=3;break}return A("Must have First Name"),t.abrupt("return");case 3:if(""!==v){t.next=6;break}return A("Must have Last Name"),t.abrupt("return");case 6:return n=Object(C.a)(Object(C.a)({},e),{},{firstName:d,lastName:v,emails:E}),t.next=9,o(n);case 9:n=t.sent,A("Saved Successfully"),s(n);case 12:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),K=function(){var t=Object(f.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j(e);case 2:n(e);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(a.jsxs)("article",{className:"contact-display",children:[Object(a.jsxs)("div",{className:"first-name",children:[Object(a.jsx)("label",{children:"First Name: "}),Object(a.jsx)("input",{type:"text",value:d,onChange:function(t){return h(t.target.value)}})]}),Object(a.jsxs)("div",{className:"last-name",children:[Object(a.jsx)("label",{children:"Last Name: "}),Object(a.jsx)("input",{type:"text",value:v,onChange:function(t){return m(t.target.value)}})]}),Object(a.jsxs)("div",{className:"emails",children:[Object(a.jsx)("label",{children:"Emails"}),Object(a.jsxs)("ul",{children:[E.map((function(t){return Object(a.jsxs)("li",{children:[Object(a.jsx)("div",{children:t}),Object(a.jsx)(g,{onClick:function(){return e=t,void P(E.filter((function(t){return t!==e})));var e},className:"remove"})]},t)})),M?Object(a.jsxs)("li",{className:"add-email-form",children:[Object(a.jsx)("label",{children:"New Email: "}),Object(a.jsx)("input",{type:"text",value:D,onChange:function(t){return J(t.target.value)}}),Object(a.jsx)("button",{onClick:function(){var t;t=D,y.test(t)?(P(E.concat(D)),J(""),F(!1),A("")):A("Invalid email address")},children:"Complete"})]}):Object(a.jsxs)("li",{onClick:function(){return F(!0)},className:"add-email",children:[Object(a.jsx)(w,{onClick:function(){return F(!0)},size:"small"}),Object(a.jsx)("div",{children:"add email"})]})]})]}),Object(a.jsx)("div",{className:"message",children:q}),Object(a.jsxs)("div",{className:"buttons",children:[Object(a.jsx)("button",{className:"delete",onClick:K,children:"Delete"}),Object(a.jsx)("button",{className:"cancel",onClick:function(){G(),r()},children:"Cancel"}),Object(a.jsx)("button",{className:"save",onClick:H,children:"Save"})]})]})}function E(){var t=N(),e=t.contacts,n=t.fetchMoreContacts,r=Object(c.useState)(null),s=Object(i.a)(r,2),u=s[0],o=s[1],l=Object(c.useState)(null),f=Object(i.a)(l,2),j=f[0],b=f[1];Object(c.useEffect)((function(){n()}),[]),Object(c.useEffect)((function(){var t=e.find((function(t){return t.id===u}));b(void 0!==t?t:null)}),[e,u]);return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{className:"sidebar",children:[Object(a.jsxs)("div",{className:"header",children:[Object(a.jsx)("h1",{children:"Contacts"}),Object(a.jsx)(w,{onClick:function(){b({id:NaN,firstName:"",lastName:"",emails:[]})},size:"large"})]}),Object(a.jsx)(k,{onClick:function(t){var e=t.id;return o(e)},selectedContactId:u})]}),Object(a.jsx)("div",{className:"content",children:j?Object(a.jsx)(S,{contact:j,onDelete:function(){return o(null)},onSave:function(t){var e=t.id;return o(e)},onCancel:function(){return o(null)}}):Object(a.jsx)("div",{children:"Select contact on left"})})]})}var P=function(){return Object(a.jsx)(m,{children:Object(a.jsx)(E,{})})},T=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,21)).then((function(e){var n=e.getCLS,a=e.getFID,c=e.getFCP,r=e.getLCP,s=e.getTTFB;n(t),a(t),c(t),r(t),s(t)}))};u.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(P,{})}),document.getElementById("root")),T()}],[[20,1,2]]]);
//# sourceMappingURL=main.76a86088.chunk.js.map