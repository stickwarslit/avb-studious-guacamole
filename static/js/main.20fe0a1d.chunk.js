(this["webpackJsonpavb-studious-guacamole"]=this["webpackJsonpavb-studious-guacamole"]||[]).push([[0],[,,,,,,,,,,,,,function(t,e,n){},function(t,e,n){},,function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){"use strict";n.r(e);var c=n(0),a=n(2),r=n.n(a),s=n(7),i=n.n(s),u=(n(13),n(4)),o=(n(14),n(1)),l=n.n(o),f=n(3),j="https://avb-contacts-api.herokuapp.com",b=function(){var t=Object(f.a)(l.a.mark((function t(){var e,n,c,a,r,s=arguments;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=s.length>0&&void 0!==s[0]?s[0]:1,n=s.length>1&&void 0!==s[1]?s[1]:20,c="".concat(j,"/contacts/paginated?page=").concat(e,"&itemsPerPage=").concat(n),t.next=5,fetch(c);case 5:if((a=t.sent).ok){t.next=8;break}throw new Error(a.statusText);case 8:return t.next=10,a.json();case 10:return r=t.sent,t.abrupt("return",r);case 12:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),d=function(){var t=Object(f.a)(l.a.mark((function t(e){var n,c,a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="".concat(j,"/contacts/").concat(e.id),c={method:"PUT",headers:{accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)},t.next=4,fetch(n,c);case 4:if((a=t.sent).ok){t.next=7;break}throw new Error(a.statusText);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),p=function(){var t=Object(f.a)(l.a.mark((function t(e){var n,c,a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!isNaN(e.id)){t.next=2;break}return t.abrupt("return");case 2:return n="".concat(j,"/contacts/").concat(e.id),c={method:"DELETE"},t.next=6,fetch(n,c);case 6:if((a=t.sent).ok){t.next=9;break}throw new Error(a.statusText);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),h=function(){var t=Object(f.a)(l.a.mark((function t(e){var n,c,a,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="".concat(j,"/contacts"),c={method:"POST",headers:{accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)},t.next=4,fetch(n,c);case 4:if((a=t.sent).ok){t.next=7;break}throw new Error(a.statusText);case 7:return t.next=9,a.json();case 9:return r=t.sent,t.abrupt("return",r);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),O={id:NaN,firstName:"",lastName:"",emails:[]},x={contacts:[],lastPage:1,canLoadMore:!0,setContactState:function(){},fetchMoreContacts:function(){var t=Object(f.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),deleteContact:function(){var t=Object(f.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),upsertContact:function(){var t=Object(f.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",O);case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},m=Object(a.createContext)(x),v=function(t){var e=Object(a.useState)(1),n=Object(u.a)(e,2),r=n[0],s=n[1],i=Object(a.useState)(!0),o=Object(u.a)(i,2),j=o[0],O=o[1],x=Object(a.useState)([]),v=Object(u.a)(x,2),N=v[0],k=v[1],C=function(){var t=Object(f.a)(l.a.mark((function t(){var e;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b(r,20);case 2:e=t.sent,O(e.page*e.itemsPerPage<e.totalItems),s(r+1),k(N.concat(e.contacts));case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),w=function(){var t=Object(f.a)(l.a.mark((function t(e){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p(e);case 2:n=N.filter((function(t){return t.id!==e.id})),k(n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),g=function(){var t=Object(f.a)(l.a.mark((function t(e){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d(e);case 2:n=N.map((function(t){return t.id===e.id?e:t})),k(n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),y=function(){var t=Object(f.a)(l.a.mark((function t(e){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h(e);case 2:return n=t.sent,k(N.concat(n)),t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),S={contacts:N,lastPage:r,canLoadMore:j,setContactState:k,fetchMoreContacts:C,deleteContact:w,upsertContact:function(){var t=Object(f.a)(l.a.mark((function t(e){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!isNaN(e.id)){t.next=6;break}return t.next=3,y(e);case 3:return t.abrupt("return",t.sent);case 6:return t.next=8,g(e);case 8:return t.abrupt("return",e);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};return Object(c.jsx)(m.Provider,{value:S,children:t.children})},N=function(){return Object(a.useContext)(m)};n(16);function k(t){var e=t.onClick,n=t.selectedContactId,r=N(),s=r.contacts,i=r.fetchMoreContacts,o=r.canLoadMore,j=Object(a.useState)(!1),b=Object(u.a)(j,2),d=b[0],p=b[1],h=function(){var t=Object(f.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return p(!0),t.next=3,i();case 3:p(!1);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),O=s.map((function(t){return Object(c.jsxs)("li",{onClick:function(){e(t)},className:n===t.id?"selected":"",children:[t.firstName," ",t.lastName]},t.id)})),x=o?Object(c.jsx)("li",{children:d?"Loading...":Object(c.jsx)("button",{onClick:h,children:"Load more"})}):"";return Object(c.jsxs)("ul",{className:"contacts-list",children:[O,x]})}var C=n(6);n(17);function w(t){var e=t.onClick,n=t.size;return Object(c.jsxs)("button",{className:"plus-button ".concat(n),onClick:e,children:[Object(c.jsx)("span",{className:"vertical-bar"}),Object(c.jsx)("span",{className:"horizontal-bar"})]})}n(18);function g(t){var e=t.onClick,n=t.className;return Object(c.jsx)("button",{className:"minus-button ".concat(n),onClick:e,children:Object(c.jsx)("span",{className:"horizontal-bar"})})}n(19);var y=/[^@ \t\r\n]+@[^@ \t\r\n]+\.[^@ \t\r\n]+/;function S(t){var e=t.contact,n=t.onDelete,r=t.onCancel,s=t.onSave,i=N(),o=i.upsertContact,j=i.deleteContact,b=Object(a.useState)(e.firstName),d=Object(u.a)(b,2),p=d[0],h=d[1],O=Object(a.useState)(e.lastName),x=Object(u.a)(O,2),m=x[0],v=x[1],k=Object(a.useState)(e.emails),S=Object(u.a)(k,2),E=S[0],P=S[1],M=Object(a.useState)(!1),T=Object(u.a)(M,2),L=T[0],F=T[1],D=Object(a.useState)(""),I=Object(u.a)(D,2),z=I[0],J=I[1],B=Object(a.useState)(""),G=Object(u.a)(B,2),R=G[0],U=G[1],W=function(){null!=e&&(h(e.firstName),v(e.lastName),P(e.emails),J(""),F(!1))};Object(a.useEffect)(W,[e]);var q=function(){var t=Object(f.a)(l.a.mark((function t(){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""!==p){t.next=3;break}return U("Must have First Name"),t.abrupt("return");case 3:if(""!==m){t.next=6;break}return U("Must have Last Name"),t.abrupt("return");case 6:return n=Object(C.a)(Object(C.a)({},e),{},{firstName:p,lastName:m,emails:E}),t.next=9,o(n);case 9:n=t.sent,U("Saved Successfully"),s(n);case 12:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),A=function(){var t=Object(f.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j(e);case 2:n(e);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(c.jsxs)("article",{className:"contact-display",children:[Object(c.jsxs)("div",{className:"first-name",children:[Object(c.jsx)("label",{children:"First Name: "}),Object(c.jsx)("input",{type:"text",value:p,onChange:function(t){return h(t.target.value)}})]}),Object(c.jsxs)("div",{className:"last-name",children:[Object(c.jsx)("label",{children:"Last Name: "}),Object(c.jsx)("input",{type:"text",value:m,onChange:function(t){return v(t.target.value)}})]}),Object(c.jsxs)("div",{className:"emails",children:[Object(c.jsx)("label",{children:"Emails"}),Object(c.jsxs)("ul",{children:[E.map((function(t){return Object(c.jsxs)("li",{children:[Object(c.jsx)("div",{children:t}),Object(c.jsx)(g,{onClick:function(){return e=t,void P(E.filter((function(t){return t!==e})));var e},className:"remove"})]},t)})),L?Object(c.jsxs)("li",{className:"add-email-form",children:[Object(c.jsx)("label",{children:"New Email: "}),Object(c.jsx)("input",{type:"text",value:z,onChange:function(t){return J(t.target.value)}}),Object(c.jsx)("button",{onClick:function(){var t;t=z,y.test(t)?(P(E.concat(z)),J(""),F(!1),U("")):U("Invalid email address")},children:"Complete"})]}):Object(c.jsxs)("li",{onClick:function(){return F(!0)},className:"add-email",children:[Object(c.jsx)(w,{onClick:function(){return F(!0)},size:"small"}),Object(c.jsx)("div",{children:"add email"})]})]})]}),Object(c.jsx)("div",{className:"message",children:R}),Object(c.jsxs)("div",{className:"buttons",children:[Object(c.jsx)("button",{className:"delete",onClick:A,children:"Delete"}),Object(c.jsx)("button",{className:"cancel",onClick:function(){W(),r()},children:"Cancel"}),Object(c.jsx)("button",{className:"save",onClick:q,children:"Save"})]})]})}n(20);function E(){return Object(c.jsxs)("div",{className:"welcome-view",children:[Object(c.jsx)("h1",{children:"Welcome!"}),Object(c.jsxs)("span",{children:[Object(c.jsx)("div",{children:"Click on a contact in the list on the left to edit its information. Or, click on the plus button in the top left to create a brand new contact."}),Object(c.jsxs)("div",{children:["Created by Mark Del Rosario. ",Object(c.jsx)("a",{href:"https://github.com/",children:"Github Profile"})]})]})]})}function P(){var t=N(),e=t.contacts,n=t.fetchMoreContacts,r=Object(a.useState)(null),s=Object(u.a)(r,2),i=s[0],o=s[1],l=Object(a.useState)(null),f=Object(u.a)(l,2),j=f[0],b=f[1];Object(a.useEffect)((function(){n()}),[]),Object(a.useEffect)((function(){var t=e.find((function(t){return t.id===i}));b(void 0!==t?t:null)}),[e,i]);return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("div",{className:"sidebar",children:[Object(c.jsxs)("div",{className:"header",children:[Object(c.jsx)("h1",{children:"Contacts"}),Object(c.jsx)(w,{onClick:function(){b({id:NaN,firstName:"",lastName:"",emails:[]})},size:"large"})]}),Object(c.jsx)(k,{onClick:function(t){var e=t.id;return o(e)},selectedContactId:i})]}),Object(c.jsx)("div",{className:"content",children:j?Object(c.jsx)(S,{contact:j,onDelete:function(){return o(null)},onSave:function(t){var e=t.id;return o(e)},onCancel:function(){return o(null)}}):Object(c.jsx)(E,{})})]})}var M=function(){return Object(c.jsx)(v,{children:Object(c.jsx)(P,{})})},T=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,22)).then((function(e){var n=e.getCLS,c=e.getFID,a=e.getFCP,r=e.getLCP,s=e.getTTFB;n(t),c(t),a(t),r(t),s(t)}))};i.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(M,{})}),document.getElementById("root")),T()}],[[21,1,2]]]);
//# sourceMappingURL=main.20fe0a1d.chunk.js.map