(this["webpackJsonpavb-studious-guacamole"]=this["webpackJsonpavb-studious-guacamole"]||[]).push([[0],{24:function(t,e,n){},25:function(t,e,n){},27:function(t,e,n){},33:function(t,e,n){},34:function(t,e,n){},35:function(t,e,n){},36:function(t,e,n){},37:function(t,e,n){"use strict";n.r(e);var r=n(0),c=n(1),a=n.n(c),s=n(17),u=n.n(s),i=(n(24),n(8)),o=n(4),l=(n(25),n(5)),f=n(2),j=n.n(f),b=n(3),p="https://avb-contacts-api.herokuapp.com",d=function(){var t=Object(b.a)(j.a.mark((function t(){var e,n,r,c,a,s=arguments;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=s.length>0&&void 0!==s[0]?s[0]:1,n=s.length>1&&void 0!==s[1]?s[1]:20,r="".concat(p,"/contacts/paginated?page=").concat(e,"&itemsPerPage=").concat(n),t.next=5,fetch(r);case 5:if((c=t.sent).ok){t.next=8;break}throw new Error(c.statusText);case 8:return t.next=10,c.json();case 10:return a=t.sent,t.abrupt("return",a);case 12:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),h=function(){var t=Object(b.a)(j.a.mark((function t(e){var n,r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="".concat(p,"/contacts/").concat(e),t.next=3,fetch(n);case 3:if((r=t.sent).ok){t.next=6;break}throw new Error(r.statusText);case 6:return t.next=8,r.json();case 8:return t.abrupt("return",t.sent);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),O=function(){var t=Object(b.a)(j.a.mark((function t(e){var n,r,c;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="".concat(p,"/contacts/").concat(e.id),r={method:"PUT",headers:{accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)},t.next=4,fetch(n,r);case 4:if((c=t.sent).ok){t.next=7;break}throw new Error(c.statusText);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),x=function(){var t=Object(b.a)(j.a.mark((function t(e){var n,r,c;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!isNaN(e.id)){t.next=2;break}return t.abrupt("return");case 2:return n="".concat(p,"/contacts/").concat(e.id),r={method:"DELETE"},t.next=6,fetch(n,r);case 6:if((c=t.sent).ok){t.next=9;break}throw new Error(c.statusText);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),v=function(){var t=Object(b.a)(j.a.mark((function t(e){var n,r,c,a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="".concat(p,"/contacts"),r={method:"POST",headers:{accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)},t.next=4,fetch(n,r);case 4:if((c=t.sent).ok){t.next=7;break}throw new Error(c.statusText);case 7:return t.next=9,c.json();case 9:return a=t.sent,t.abrupt("return",a);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),m={id:NaN,firstName:"",lastName:"",emails:[]},k={contacts:[],lastPage:1,canLoadMore:!0,setContactState:function(){},fetchMoreContacts:function(){var t=Object(b.a)(j.a.mark((function t(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),deleteContact:function(){var t=Object(b.a)(j.a.mark((function t(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),upsertContact:function(){var t=Object(b.a)(j.a.mark((function t(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",m);case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),getOrFetchContact:function(){var t=Object(b.a)(j.a.mark((function t(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",m);case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},w=Object(c.createContext)(k),N=function(t){var e=Object(c.useState)(1),n=Object(l.a)(e,2),a=n[0],s=n[1],u=Object(c.useState)(!0),i=Object(l.a)(u,2),o=i[0],f=i[1],p=Object(c.useState)([]),m=Object(l.a)(p,2),k=m[0],N=m[1],C=function(){var t=Object(b.a)(j.a.mark((function t(){var e;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d(a,20);case 2:e=t.sent,f(e.page*e.itemsPerPage<e.totalItems),s(a+1),N(k.concat(e.contacts));case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),g=function(){var t=Object(b.a)(j.a.mark((function t(e){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x(e);case 2:n=k.filter((function(t){return t.id!==e.id})),N(n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),y=function(){var t=Object(b.a)(j.a.mark((function t(e){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O(e);case 2:n=k.map((function(t){return t.id===e.id?e:t})),N(n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),S=function(){var t=Object(b.a)(j.a.mark((function t(e){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v(e);case 2:return n=t.sent,N(k.concat(n)),t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),E=function(){var t=Object(b.a)(j.a.mark((function t(e){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!isNaN(e.id)){t.next=6;break}return t.next=3,S(e);case 3:return t.abrupt("return",t.sent);case 6:return t.next=8,y(e);case 8:return t.abrupt("return",e);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),F=function(){var t=Object(b.a)(j.a.mark((function t(e){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===(n=k.find((function(t){var n=t.id;return e===n})))){t.next=3;break}return t.abrupt("return",n);case 3:return t.next=5,h(e);case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),P={contacts:k,lastPage:a,canLoadMore:o,setContactState:N,fetchMoreContacts:C,deleteContact:g,upsertContact:E,getOrFetchContact:F};return Object(r.jsx)(w.Provider,{value:P,children:t.children})},C=function(){return Object(c.useContext)(w)};n(27);function g(t){var e=t.onClick,n=C(),a=n.contacts,s=n.fetchMoreContacts,u=n.canLoadMore,i=Object(o.h)("/:contactId"),f=Object(c.useState)(NaN),p=Object(l.a)(f,2),d=p[0],h=p[1];Object(c.useEffect)((function(){null!==i&&void 0!==i.params.contactId&&h(parseInt(i.params.contactId,10))}),[i]);var O=Object(c.useState)(!1),x=Object(l.a)(O,2),v=x[0],m=x[1],k=function(){var t=Object(b.a)(j.a.mark((function t(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return m(!0),t.next=3,s();case 3:m(!1);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),w=a.map((function(t){return Object(r.jsxs)("li",{onClick:function(){e(t)},className:d===t.id?"selected":"",children:[t.firstName," ",t.lastName]},t.id)})),N=u?Object(r.jsx)("li",{children:v?"Loading...":Object(r.jsx)("button",{onClick:k,children:"Load more"})}):"";return Object(r.jsxs)("ul",{className:"contacts-list",children:[w,N]})}n(33);function y(t){var e=t.onClick,n=t.size;return Object(r.jsxs)("button",{className:"plus-button ".concat(n),onClick:e,children:[Object(r.jsx)("span",{className:"vertical-bar"}),Object(r.jsx)("span",{className:"horizontal-bar"})]})}n(34);function S(){return Object(r.jsxs)("div",{className:"welcome-view",children:[Object(r.jsx)("h1",{children:"Welcome!"}),Object(r.jsxs)("span",{children:[Object(r.jsx)("div",{children:"Click on a contact in the list on the left to edit its information. Or, click on the plus button in the top left to create a brand new contact."}),Object(r.jsxs)("div",{children:["Created by Mark Del Rosario. ",Object(r.jsx)("a",{href:"https://github.com/",children:"Github Profile"})]})]})]})}var E=n(15);n(35);function F(t){var e=t.onClick,n=t.className;return Object(r.jsx)("button",{className:"minus-button ".concat(n),onClick:e,children:Object(r.jsx)("span",{className:"horizontal-bar"})})}n(36);var P=/[^@ \t\r\n]+@[^@ \t\r\n]+\.[^@ \t\r\n]+/;function T(t){var e=t.contact,n=t.onDelete,a=t.onCancel,s=t.onSave,u=C(),i=u.upsertContact,o=u.deleteContact,f=Object(c.useState)(e.firstName),p=Object(l.a)(f,2),d=p[0],h=p[1],O=Object(c.useState)(e.lastName),x=Object(l.a)(O,2),v=x[0],m=x[1],k=Object(c.useState)(e.emails),w=Object(l.a)(k,2),N=w[0],g=w[1],S=Object(c.useState)(!1),T=Object(l.a)(S,2),I=T[0],L=T[1],M=Object(c.useState)(""),D=Object(l.a)(M,2),z=D[0],J=D[1],B=Object(c.useState)(""),G=Object(l.a)(B,2),R=G[0],U=G[1],W=function(){null!=e&&(h(e.firstName),m(e.lastName),g(e.emails),J(""),L(!1))};Object(c.useEffect)(W,[e]);var q=function(){var t=Object(b.a)(j.a.mark((function t(){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""!==d){t.next=3;break}return U("Must have First Name"),t.abrupt("return");case 3:if(""!==v){t.next=6;break}return U("Must have Last Name"),t.abrupt("return");case 6:return n=Object(E.a)(Object(E.a)({},e),{},{firstName:d,lastName:v,emails:N}),t.next=9,i(n);case 9:n=t.sent,U("Saved Successfully"),s(n);case 12:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),A=function(){var t=Object(b.a)(j.a.mark((function t(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(e),t.next=3,o(e);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(r.jsxs)("article",{className:"contact-display",children:[Object(r.jsxs)("div",{className:"first-name",children:[Object(r.jsx)("label",{children:"First Name: "}),Object(r.jsx)("input",{type:"text",value:d,onChange:function(t){return h(t.target.value)}})]}),Object(r.jsxs)("div",{className:"last-name",children:[Object(r.jsx)("label",{children:"Last Name: "}),Object(r.jsx)("input",{type:"text",value:v,onChange:function(t){return m(t.target.value)}})]}),Object(r.jsxs)("div",{className:"emails",children:[Object(r.jsx)("label",{children:"Emails"}),Object(r.jsxs)("ul",{children:[N.map((function(t){return Object(r.jsxs)("li",{children:[Object(r.jsx)("div",{children:t}),Object(r.jsx)(F,{onClick:function(){return e=t,void g(N.filter((function(t){return t!==e})));var e},className:"remove"})]},t)})),I?Object(r.jsxs)("li",{className:"add-email-form",children:[Object(r.jsx)("label",{children:"New Email: "}),Object(r.jsx)("input",{type:"text",value:z,onChange:function(t){return J(t.target.value)}}),Object(r.jsx)("button",{onClick:function(){var t;t=z,P.test(t)?(g(N.concat(z)),J(""),L(!1),U("")):U("Invalid email address")},children:"Complete"})]}):Object(r.jsxs)("li",{onClick:function(){return L(!0)},className:"add-email",children:[Object(r.jsx)(y,{onClick:function(){return L(!0)},size:"small"}),Object(r.jsx)("div",{children:"add email"})]})]})]}),Object(r.jsx)("div",{className:"message",children:R}),Object(r.jsxs)("div",{className:"buttons",children:[Object(r.jsx)("button",{className:"delete",onClick:A,children:"Delete"}),Object(r.jsx)("button",{className:"cancel",onClick:function(){W(),a(e)},children:"Cancel"}),Object(r.jsx)("button",{className:"save",onClick:q,children:"Save"})]})]})}function I(){var t=Object(o.f)(),e={id:NaN,firstName:"",lastName:"",emails:[]},n=function(){return t.push("")};return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(T,{contact:e,onSave:function(e){return t.push("/".concat(e.id))},onCancel:n,onDelete:n})})}function L(){var t=C().getOrFetchContact,e=Object(o.f)(),n=Object(o.g)(),a=Object(c.useState)(null),s=Object(l.a)(a,2),u=s[0],i=s[1];Object(c.useEffect)((function(){(function(){var e=Object(b.a)(j.a.mark((function e(){var r,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=parseInt(n.contactId),e.next=3,t(r);case 3:c=e.sent,i(c);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[n]);var f=function(){return e.push("")};return Object(r.jsx)(r.Fragment,{children:null===u?"Loading...":Object(r.jsx)(T,{contact:u,onSave:function(){},onCancel:f,onDelete:f})})}function M(){var t=C().fetchMoreContacts,e=Object(o.f)();return Object(c.useEffect)((function(){t()}),[]),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("div",{className:"sidebar",children:[Object(r.jsxs)("div",{className:"header",children:[Object(r.jsx)("h1",{children:"Contacts"}),Object(r.jsx)(y,{onClick:function(){return e.push("/new")},size:"large"})]}),Object(r.jsx)(g,{onClick:function(t){var n=t.id;return e.push("/".concat(n))}})]}),Object(r.jsx)("div",{className:"content",children:Object(r.jsxs)(o.c,{children:[Object(r.jsx)(o.a,{path:"/new",children:Object(r.jsx)(I,{})}),Object(r.jsx)(o.a,{path:"/:contactId",children:Object(r.jsx)(L,{})}),Object(r.jsx)(o.a,{path:"/",children:Object(r.jsx)(S,{})})]})})]})}var D=function(){return Object(r.jsx)(i.a,{basename:"/avb-studious-guacamole",children:Object(r.jsx)(N,{children:Object(r.jsx)(M,{})})})},z=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,38)).then((function(e){var n=e.getCLS,r=e.getFID,c=e.getFCP,a=e.getLCP,s=e.getTTFB;n(t),r(t),c(t),a(t),s(t)}))};u.a.render(Object(r.jsx)(a.a.StrictMode,{children:Object(r.jsx)(D,{})}),document.getElementById("root")),z()}},[[37,1,2]]]);
//# sourceMappingURL=main.8289252e.chunk.js.map